import{a as y}from"./chunk-B62AKW7U.js";import"./chunk-O2RUCZLP.js";import{a as v}from"./chunk-YJX6F4XL.js";import{d as Y,e as q,f as b}from"./chunk-SX2XOMSZ.js";import"./chunk-ICX6WNUG.js";import{$ as l,$a as L,Aa as B,Da as d,Mb as $,Pa as s,W as D,Ya as m,Za as g,_a as F,ab as j,bb as I,cb as n,db as a,ea as f,eb as h,fa as _,fb as N,gb as A,ib as x,kb as C,l as E,ma as T,mb as p,ob as i,pb as V,qb as H,ub as R,wb as z}from"./chunk-37E7HCB4.js";var M=class o{product;data=l(y);CART_KEY="shopping_cart";cartSubject=new E(this.loadCart());cart=this.cartSubject.asObservable();constructor(){this.cartSubject.next(this.loadCart())}loadCart(){try{let t=localStorage.getItem(this.CART_KEY);return t?JSON.parse(t):[]}catch{return console.error("error while loading data from local storage"),[]}}saveCart(t){try{localStorage.setItem(this.CART_KEY,JSON.stringify(t)),this.cartSubject.next(t)}catch{console.error("error while savin the product in cart")}}addProduct(t,e=1){let r=this.loadCart(),c=r.findIndex(u=>u.product.id===t.id);c!==-1?(r[c].quantity+=e,console.log(`Increased quantity of ${t.name} to ${r[c].quantity}`)):(r.push({product:t,quantity:e}),console.log(`Added ${t.name} to cart`)),this.saveCart(r)}removeProduct(t){let r=this.loadCart().filter(c=>c.product.id!==t);this.saveCart(r)}static \u0275fac=function(e){return new(e||o)};static \u0275prov=D({token:o,factory:o.\u0275fac,providedIn:"root"})};var U=o=>["/product",o];function G(o,t){o&1&&(n(0,"div")(1,"p"),i(2,"No products available."),a()())}function Q(o,t){if(o&1){let e=x();n(0,"button",10),C("click",function(c){f(e);let u=p().$implicit,K=p(2);return _(K.add_Produt_to_Cart(c,u))}),i(1,"Add to Cart"),a()}}function W(o,t){if(o&1){let e=x();n(0,"button",10),C("click",function(c){f(e);let u=p(3);return _(u.goToLogin(c))}),i(1,"Log In to buy something"),a()}}function X(o,t){if(o&1&&(n(0,"div",2)(1,"a",3)(2,"div",4),h(3,"img",5),n(4,"div",6)(5,"h3",7),i(6),a(),n(7,"p",8),i(8),a(),m(9,Q,2,0,"button",9)(10,W,2,0,"button",9),a()()()()),o&2){let e=t.$implicit,r=p(2);d(),I("routerLink",z(7,U,e.id)),d(2),I("alt",R(e.name))("src",e.imageUrl,B),d(3),V(e.name),d(2),H("",e.price,"$"),d(),g(r.islogged?9:10)}}function Z(o,t){if(o&1&&(n(0,"section",1),L(1,X,11,9,"div",2,F),a()),o&2){let e=p();d(),j(e.items)}}var S=class o{items=[];auth=l(v);data=l(y);localS=l(M);router=l(q);islogged=!1;ngOnInit(){this.getStatus(),this.getData()}goToLogin(t){t.preventDefault(),t.stopPropagation(),this.router.navigate(["/login"])}add_Produt_to_Cart(t,e){t.preventDefault(),t.stopPropagation(),this.localS.addProduct(e),alert(`Added ${e.name} to cart!`)}getStatus(){this.auth.getStatus().subscribe(t=>{t?this.islogged=!0:this.islogged=!1})}getData(){this.data.getAlldata_products().subscribe({next:t=>{this.items=t},error:t=>{console.log("error fetch data",t)}})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=s({type:o,selectors:[["app-body"]],decls:4,vars:2,consts:[[1,"page-title"],[1,"products","row","row-cols-1","row-cols-sm-2","row-cols-md-3","row-cols-lg-4","g-4"],[1,"col"],[1,"text-decoration-none","text-dark",3,"routerLink"],[1,"product-card","card","h-100","text-center","p-3"],["width","198","height","198",1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title","fs-5"],[1,"price","fw-bold"],[1,"btn","btn-primary"],[1,"btn","btn-primary",3,"click"]],template:function(e,r){e&1&&(n(0,"h2",0),i(1,"Product Catalog"),a(),m(2,G,3,0,"div"),m(3,Z,3,0,"section",1)),e&2&&(d(2),g(r.items.length===0?2:-1),d(),g(r.items.length>0?3:-1))},dependencies:[$,b],styles:[".products[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;padding:40px 20px;gap:30px}.product-card[_ngcontent-%COMP%]{background:#ffffff1a;border:1px solid #eee;border-radius:16px;box-shadow:0 4px 15px #0000000d;padding:20px;text-align:center;width:240px;transition:transform .3s,box-shadow .3s}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 8px 20px #0000001a}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:12px;margin-bottom:15px}.product-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:8px}.product-card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:#0078ff;font-weight:700;margin-bottom:12px}.product-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#0078ff;border:none;color:#fff;padding:10px 14px;border-radius:8px;cursor:pointer;font-weight:500;transition:background .3s}.product-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#005bb5}.page-title[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-top:30px;color:#333;padding:0 0 100px}"]})};var O=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=s({type:o,selectors:[["app-footer"]],decls:3,vars:0,template:function(e,r){e&1&&(N(0,"footer")(1,"p"),i(2,"\xA9 2025 TechShop. All rights reserved."),A()())},styles:["footer[_ngcontent-%COMP%]{text-align:center;padding:20px;background:#fff;border-top:1px solid #eee;margin-top:40px;font-size:.9rem;color:#666}"]})};function tt(o,t){if(o&1){let e=x();n(0,"a",6),C("click",function(){f(e);let c=p();return _(c.logOut())}),i(1,"Log out"),a()}}function et(o,t){o&1&&(n(0,"a",7),i(1,"Log in"),a(),n(2,"a",8),i(3,"Register"),a())}var w=class o{auth=l(v);loggedIn=!1;getStatus(){this.auth.getStatus().subscribe(t=>{t?this.loggedIn=!0:this.loggedIn=!1})}logOut(){this.auth.logOut(),alert("logged out")}ngOnInit(){this.getStatus()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=s({type:o,selectors:[["app-header"]],decls:18,vars:1,consts:[[1,"logo"],["routerLink","/"],["routerLink","/catalog"],["routerLink","/contact"],["id","cartBtn",1,"cart"],["id","cartCount"],[3,"click"],["routerLink","/login"],["routerLink","/register"]],template:function(e,r){e&1&&(n(0,"header")(1,"div",0),i(2,"Tech"),n(3,"span"),i(4,"Shop"),a()(),n(5,"nav")(6,"a",1),i(7,"Home"),a(),n(8,"a",2),i(9,"Products"),a(),m(10,tt,2,0,"a")(11,et,4,0),n(12,"a",3),i(13,"Contact"),a(),n(14,"div",4),i(15,"\u{1F6D2} "),n(16,"span",5),i(17,"0"),a()()()()),e&2&&(d(10),g(r.loggedIn?10:11))},dependencies:[b],styles:["header[_ngcontent-%COMP%]{background:#fff;padding:15px 40px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #eee;position:sticky;top:0;z-index:100}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#222}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0078ff}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;align-items:center}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 15px;text-decoration:none;color:#555;font-weight:500}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0078ff}header[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]{background:#0078ff;color:#fff;padding:6px 14px;border-radius:20px;font-size:.9rem;cursor:pointer;transition:background .3s}header[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]:hover{background:#005bb5}"]})};var J=class o{title=T("TechSpec");static \u0275fac=function(e){return new(e||o)};static \u0275cmp=s({type:o,selectors:[["catalog-page-app"]],decls:4,vars:0,template:function(e,r){e&1&&h(0,"app-header")(1,"app-body")(2,"app-footer")(3,"router-outlet")},dependencies:[Y,S,O,w],encapsulation:2})};export{J as CatalogPage};
