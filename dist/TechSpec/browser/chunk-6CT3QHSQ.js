import{a as U}from"./chunk-B62AKW7U.js";import"./chunk-O2RUCZLP.js";import{a as H,b as R,c as j,d as q,e as G,f as Y,g as J,h as K,i as Q}from"./chunk-QE74SHGQ.js";import{a as P}from"./chunk-YJX6F4XL.js";import{d as W,f as z}from"./chunk-SX2XOMSZ.js";import"./chunk-ICX6WNUG.js";import{$ as f,$a as T,Da as c,Mb as L,Pa as p,Ya as x,Za as h,a as V,ab as D,c as k,cb as t,db as n,ea as m,eb as I,fa as u,fb as N,gb as A,ib as _,kb as g,ma as B,mb as s,ob as o,pb as S,qb as w,rb as C,sb as b,tb as y}from"./chunk-37E7HCB4.js";var Z=(a,i)=>i.id;function $(a,i){if(a&1){let e=_();t(0,"button",14),g("click",function(){m(e);let r=s(2);return u(r.resetForm())}),o(1," Anuleaz\u0103 "),n()}}function ee(a,i){if(a&1){let e=_();t(0,"tr")(1,"td"),o(2),n(),t(3,"td"),o(4),n(),t(5,"td"),o(6),n(),t(7,"td")(8,"button",15),g("click",function(){let r=m(e).$implicit,l=s(2);return u(l.editProduct(r))}),o(9," Editeaz\u0103 "),n(),t(10,"button",16),g("click",function(){let r=m(e).$implicit,l=s(2);return u(l.deleteProduct(r.id))}),o(11," \u0218terge "),n()()()}if(a&2){let e=i.$implicit;c(2),S(e.name),c(2),S(e.description),c(2),w("",e.price,"$")}}function te(a,i){if(a&1){let e=_();t(0,"div",0)(1,"h2"),o(2,"Gestionare Produse"),n(),t(3,"div",1)(4,"div",2)(5,"h3"),o(6),n(),t(7,"form",3),g("ngSubmit",function(){m(e);let r=s();return u(r.saveProduct())}),t(8,"div",4)(9,"label",5),o(10,"Nume Produs"),n(),t(11,"input",6),y("ngModelChange",function(r){m(e);let l=s();return b(l.productForm.name,r)||(l.productForm.name=r),u(r)}),n()(),t(12,"div",4)(13,"label",5),o(14,"Descriere"),n(),t(15,"textarea",7),y("ngModelChange",function(r){m(e);let l=s();return b(l.productForm.description,r)||(l.productForm.description=r),u(r)}),n()(),t(16,"div",4)(17,"label",5),o(18,"Pre\u021B "),n(),t(19,"input",8),y("ngModelChange",function(r){m(e);let l=s();return b(l.productForm.price,r)||(l.productForm.price=r),u(r)}),n()(),t(20,"div",4)(21,"label",5),o(22,"URL Imagine"),n(),t(23,"input",9),y("ngModelChange",function(r){m(e);let l=s();return b(l.productForm.imageUrl,r)||(l.productForm.imageUrl=r),u(r)}),n()(),t(24,"button",10),o(25),n(),x(26,$,2,0,"button",11),n()()(),t(27,"div",12)(28,"div",2)(29,"h3"),o(30,"Lista Produse"),n(),t(31,"table",13)(32,"thead")(33,"tr")(34,"th"),o(35,"Nume"),n(),t(36,"th"),o(37,"Descriere"),n(),t(38,"th"),o(39,"Pre\u021B"),n(),t(40,"th"),o(41,"Ac\u021Biuni"),n()()(),t(42,"tbody"),T(43,ee,12,3,"tr",null,Z),n()()()()()}if(a&2){let e=s();c(6),S(e.isEditing?"Editeaz\u0103 Produs":"Adaug\u0103 Produs Nou"),c(5),C("ngModel",e.productForm.name),c(4),C("ngModel",e.productForm.description),c(4),C("ngModel",e.productForm.price),c(4),C("ngModel",e.productForm.imageUrl),c(2),w(" ",e.isEditing?"Actualizeaz\u0103":"Adaug\u0103"," "),c(),h(e.isEditing?26:-1),c(17),D(e.products)}}function ne(a,i){a&1&&(t(0,"p"),o(1,"Accesul interzis"),n())}var M=class a{auth=f(P);islogged=!1;dataService=f(U);products=[];productForm={id:"",name:"",description:"",price:0,imageUrl:""};isEditing=!1;ngOnInit(){this.getUser(),this.loadProducts()}loadProducts(){this.dataService.getAlldata_products().subscribe({next:i=>{this.products=i},error:i=>{console.error("Eroare la \xEEnc\u0103rcare:",i)}})}addProduct(){this.dataService.addProduct(this.productForm).then(()=>{alert("Produs ad\u0103ugat cu succes!"),this.resetForm()}).catch(i=>{alert("Eroare: "+i.message)})}editProduct(i){this.isEditing=!0,this.productForm=V({},i)}updateProduct(){let d=this.productForm,{id:i}=d,e=k(d,["id"]);this.dataService.modifyProduct(i,e).then(()=>{alert("Produs actualizat!"),this.resetForm()}).catch(r=>{alert("Eroare: "+r.message)})}deleteProduct(i){confirm("Sigur vrei s\u0103 \u0219tergi acest produs?")&&this.dataService.deleteProduct(i).then(()=>{alert("Produs \u0219ters!")}).catch(e=>{alert("Eroare: "+e.message)})}resetForm(){this.productForm={id:"",name:"",description:"",price:0,imageUrl:""},this.isEditing=!1}saveProduct(){this.isEditing?this.updateProduct():this.addProduct()}getUser(){this.auth.getCurent().subscribe(i=>{i&&(i.email=="admin@admin.com"?this.islogged=!0:(this.islogged=!1,alert("You are admin")))})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=p({type:a,selectors:[["app-body"]],decls:2,vars:1,consts:[[1,"container","mt-4"],[1,"card","mb-4"],[1,"card-body"],[3,"ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","description","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","price","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","imageUrl",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-secondary","ms-2"],[1,"card"],[1,"table"],["type","button",1,"btn","btn-secondary","ms-2",3,"click"],[1,"btn","btn-sm","btn-warning","me-2",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"]],template:function(e,d){e&1&&x(0,te,45,7,"div",0)(1,ne,2,0,"p"),e&2&&h(d.islogged?0:1)},dependencies:[Q,Y,H,J,R,j,K,G,q,L],encapsulation:2})};var v=class a{static \u0275fac=function(e){return new(e||a)};static \u0275cmp=p({type:a,selectors:[["app-footer"]],decls:3,vars:0,template:function(e,d){e&1&&(N(0,"footer")(1,"p"),o(2,"\xA9 2025 TechShop. All rights reserved."),A()())},styles:["footer[_ngcontent-%COMP%]{text-align:center;padding:20px;background:#fff;border-top:1px solid #eee;margin-top:40px;font-size:.9rem;color:#666}"]})};function ie(a,i){if(a&1){let e=_();t(0,"a",6),g("click",function(){m(e);let r=s();return u(r.logOut())}),o(1,"Log out"),n()}}function oe(a,i){a&1&&(t(0,"a",7),o(1,"Log in"),n(),t(2,"a",8),o(3,"Register"),n())}var E=class a{auth=f(P);loggedIn=!1;getStatus(){this.auth.getStatus().subscribe(i=>{i?this.loggedIn=!0:this.loggedIn=!1})}logOut(){this.auth.logOut(),alert("logged out")}ngOnInit(){this.getStatus()}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=p({type:a,selectors:[["app-header"]],decls:18,vars:1,consts:[[1,"logo"],["routerLink","/"],["routerLink","/catalog"],["routerLink","/contact"],["id","cartBtn",1,"cart"],["id","cartCount"],[3,"click"],["routerLink","/login"],["routerLink","/register"]],template:function(e,d){e&1&&(t(0,"header")(1,"div",0),o(2,"Tech"),t(3,"span"),o(4,"Shop"),n()(),t(5,"nav")(6,"a",1),o(7,"Home"),n(),t(8,"a",2),o(9,"Products"),n(),x(10,ie,2,0,"a")(11,oe,4,0),t(12,"a",3),o(13,"Contact"),n(),t(14,"div",4),o(15,"\u{1F6D2} "),t(16,"span",5),o(17,"0"),n()()()()),e&2&&(c(10),h(d.loggedIn?10:11))},dependencies:[z],styles:["header[_ngcontent-%COMP%]{background:#fff;padding:15px 40px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #eee;position:sticky;top:0;z-index:100}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#222}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0078ff}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;align-items:center}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 15px;text-decoration:none;color:#555;font-weight:500}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0078ff}header[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]{background:#0078ff;color:#fff;padding:6px 14px;border-radius:20px;font-size:.9rem;cursor:pointer;transition:background .3s}header[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]:hover{background:#005bb5}"]})};var X=class a{title=B("TechSpec");static \u0275fac=function(e){return new(e||a)};static \u0275cmp=p({type:a,selectors:[["admin-page-app"]],decls:4,vars:0,template:function(e,d){e&1&&I(0,"app-header")(1,"app-body")(2,"app-footer")(3,"router-outlet")},dependencies:[W,M,v,E],encapsulation:2})};export{X as AdminPage};
